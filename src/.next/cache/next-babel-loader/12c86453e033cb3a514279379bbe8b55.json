{"ast":null,"code":"import axios from 'axios';\nimport { getMatchesTogether } from '../../utils/Util';\nimport { SET_SQUAD_MEMBERS, SET_SQUAD_MEMBERS_FETCHED, SET_SQUAD_MEMBERS_COLORS, SET_SQUAD_GAME_MODE, SET_SQUAD_PERSPECTIVE, SET_SQUAD_ERROR, SELECT_PLAYER, GET_SQUAD_STATS, LOADING_SQUAD_STATS } from './types';\nexport var setSquadMembers = function setSquadMembers(squadMembersArray) {\n  return {\n    type: SET_SQUAD_MEMBERS,\n    payload: squadMembersArray\n  };\n};\nexport var setSquadMembersFetched = function setSquadMembersFetched(squadMembersArray) {\n  return {\n    type: SET_SQUAD_MEMBERS_FETCHED,\n    payload: squadMembersArray\n  };\n};\nexport var setSquadMembersColors = function setSquadMembersColors(squadMembersColors) {\n  return {\n    type: SET_SQUAD_MEMBERS_COLORS,\n    payload: squadMembersColors\n  };\n};\nexport var setSquadGameMode = function setSquadGameMode(mode) {\n  return function (dispatch) {\n    dispatch({\n      type: SET_SQUAD_GAME_MODE,\n      payload: mode\n    });\n  };\n};\nexport var setSquadPerspective = function setSquadPerspective(perspective) {\n  return function (dispatch) {\n    dispatch({\n      type: SET_SQUAD_PERSPECTIVE,\n      payload: perspective\n    });\n  };\n};\nexport var selectPlayer = function selectPlayer(player) {\n  return function (dispatch) {\n    dispatch({\n      type: SELECT_PLAYER,\n      payload: player\n    });\n  };\n};\nexport var setSquadStatsLoading = function setSquadStatsLoading() {\n  return {\n    type: LOADING_SQUAD_STATS\n  };\n};\nexport var getSquadStats = function getSquadStats() {\n  return function (dispatch, getState) {\n    dispatch(setStatsLoading());\n    var store = getState();\n    var stats = store.playerSeasons.stats;\n    var membersPicked = store.squad.membersPicked;\n    var matches = getMatchesTogether(stats.filter(function (ps) {\n      return membersPicked.includes(ps.relationships.player.attributes.name);\n    }));\n    axios.post('/api/stats/matches', {\n      matches: matches,\n      playerNames: membersPicked\n    }).then(function (res) {\n      dispatch({\n        type: GET_SQUAD_STATS,\n        payload: res.data\n      });\n    })[\"catch\"](function (err) {\n      dispatch({\n        type: SET_SQUAD_ERROR,\n        payload: err.response.data\n      });\n    });\n  };\n};\nexport var setStatsLoading = function setStatsLoading() {\n  return {\n    type: LOADING_SQUAD_STATS\n  };\n};","map":null,"metadata":{},"sourceType":"module"}