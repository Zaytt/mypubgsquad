{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport { GET_AUTH_ERRORS, AUTHENTICATE, AUTHENTICATE_FACEBOOK, DEAUTHENTICATE } from './types';\nimport axios from 'axios';\nimport jwt_decode from 'jwt-decode';\nimport { setAuthToken } from '../../utils/Util'; // Set logged in user\n\nexport var authenticateAction = function authenticateAction(user) {\n  return {\n    type: AUTHENTICATE,\n    payload: user\n  };\n};\nexport var authenticateFacebook = function authenticateFacebook(token) {\n  return {\n    type: AUTHENTICATE_FACEBOOK,\n    payload: token\n  };\n};\nexport var deAuthenticateAction = function deAuthenticateAction() {\n  return {\n    type: DEAUTHENTICATE\n  };\n};\nexport var restoreState = function restoreState(authState) {\n  return {\n    type: RESTORE_AUTH_STATE,\n    payload: authState\n  };\n}; // Register User\n\nexport var registerUser = function registerUser(userData) {\n  return function (dispatch) {\n    axios.post('api/auth/register', userData).then(function (res) {\n      return true;\n    })[\"catch\"](function (err) {\n      dispatch({\n        type: GET_AUTH_ERRORS,\n        payload: err.response.data\n      });\n    });\n  };\n}; // Login - GET user Token\n\nexport var loginUser = function loginUser(userData) {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(dispatch) {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                return _context.abrupt(\"return\", axios.post('api/auth/login', userData).then(function (res) {\n                  var user = res.data;\n                  dispatch(authenticateAction(user._id));\n                })[\"catch\"](function (err) {\n                  dispatch({\n                    type: GET_AUTH_ERRORS,\n                    payload: err.response.data\n                  });\n                }));\n\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }()\n  );\n};\nexport var loginUserFacebook = function loginUserFacebook() {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref2 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(dispatch) {\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      return function (_x2) {\n        return _ref2.apply(this, arguments);\n      };\n    }()\n  );\n};\nexport var logoutUser = function logoutUser() {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref3 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee3(dispatch) {\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                axios.get('api/auth/logout').then(function (res) {\n                  return dispatch(deAuthenticateAction());\n                })[\"catch\"](function (err) {\n                  dispatch({\n                    type: GET_AUTH_ERRORS,\n                    payload: err.response.data\n                  });\n                });\n\n              case 1:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      return function (_x3) {\n        return _ref3.apply(this, arguments);\n      };\n    }()\n  );\n};\nexport var restore = function restore(savedState) {\n  return function (dispatch) {\n    dispatch(restoreState(savedState));\n  };\n};","map":{"version":3,"sources":["/Users/ivan/Documents/Developer/Portfolio-Projects/mypubgsquad/mypubgsquad-next/src/redux/actions/authActions.js"],"names":["GET_AUTH_ERRORS","AUTHENTICATE","AUTHENTICATE_FACEBOOK","DEAUTHENTICATE","axios","jwt_decode","setAuthToken","authenticateAction","user","type","payload","authenticateFacebook","token","deAuthenticateAction","restoreState","authState","RESTORE_AUTH_STATE","registerUser","userData","dispatch","post","then","res","err","response","data","loginUser","_id","loginUserFacebook","logoutUser","get","restore","savedState"],"mappings":"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","sourcesContent":["import { GET_AUTH_ERRORS, AUTHENTICATE, AUTHENTICATE_FACEBOOK, DEAUTHENTICATE } from './types';\nimport axios from 'axios';\nimport jwt_decode from 'jwt-decode';\nimport { setAuthToken } from '../../utils/Util';\n\n// Set logged in user\nexport const authenticateAction = user => {\n  return {\n    type: AUTHENTICATE,\n    payload: user\n  };\n};\n\nexport const authenticateFacebook = token => {\n  return {\n    type: AUTHENTICATE_FACEBOOK,\n    payload: token\n  };\n};\n\nexport const deAuthenticateAction = () => {\n  return {\n    type: DEAUTHENTICATE\n  };\n};\n\nexport const restoreState = authState => {\n  return {\n    type: RESTORE_AUTH_STATE,\n    payload: authState\n  };\n};\n\n// Register User\nexport const registerUser = userData => dispatch => {\n  axios\n    .post('api/auth/register', userData)\n    .then(res => true)\n    .catch(err => {\n      dispatch({\n        type: GET_AUTH_ERRORS,\n        payload: err.response.data\n      });\n    });\n};\n\n// Login - GET user Token\nexport const loginUser = userData => async dispatch => {\n  return axios\n    .post('api/auth/login', userData)\n    .then(res => {\n      const user = res.data;\n      dispatch(authenticateAction(user._id));\n    })\n    .catch(err => {\n      dispatch({\n        type: GET_AUTH_ERRORS,\n        payload: err.response.data\n      });\n    });\n};\n\nexport const loginUserFacebook = () => async dispatch => {};\n\nexport const logoutUser = () => async dispatch => {\n  axios\n    .get('api/auth/logout')\n    .then(res => dispatch(deAuthenticateAction()))\n    .catch(err => {\n      dispatch({\n        type: GET_AUTH_ERRORS,\n        payload: err.response.data\n      });\n    });\n};\n\nexport const restore = savedState => {\n  return dispatch => {\n    dispatch(restoreState(savedState));\n  };\n};\n"]},"metadata":{},"sourceType":"module"}